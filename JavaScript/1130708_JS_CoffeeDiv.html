<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/fontawesome.min.css"
        integrity="sha384-BY+fdrpOd3gfeRvTSMT+VUZmA728cfF9Z2G42xpaRkUGu2i3DyzpTURDo5A6CaLK" crossorigin="anonymous">
</head>

<body>
    <div class="container mt-5 text-center">
        <!-- coffee -->
        <div class="row">
            <!-- 圖片 -->
            <div class="col-3">
                <img class="img-fluid" src="./images/coffee.jpg" alt="" srcset="">
            </div>
            <!-- 價格 按鈕 -->
            <div class="col-3 align-content-center">
                <div>
                    <button type="button" class="btn btn-outline-info btn-lg" id="btn_Coffee">咖啡</button>
                </div>
                <div>
                    <input type="text" class="mt-3 text-center price" id="coffee_Price" placeholder="價格" name="price"
                        value="100">
                </div>
            </div>
            <!-- 數量 -->
            <div class="col-3 align-content-center">
                <input type="text" class="form-control text-center count" id="coffee_Count" placeholder="數量"
                    name="count">
            </div>
            <!-- 金額 -->
            <div class="col-3 align-content-center">
                <input type="text" class="form-control text-center total" id="coffee_Total" placeholder="金額" disabled>
            </div>
        </div>
        <!-- milktea -->
        <div class="row">
            <!-- 圖片 -->
            <div class="col-3">
                <img class="img-fluid" src="./images/milktea.jpg" alt="" srcset="">
            </div>
            <!-- 價格 按鈕 -->
            <div class="col-3 align-content-center">
                <div>
                    <button type="button" class="btn btn-outline-info btn-lg" id="btn_Mt">奶茶</button>
                </div>
                <div>
                    <input type="text" class="mt-3 text-center price" id="milktea_Price" placeholder="價格" name="price"
                        value="50">
                </div>
            </div>
            <!-- 數量 -->
            <div class="col-3 align-content-center">
                <input type="text" class="form-control text-center count" id="milktea_Count" placeholder="數量"
                    name="count">
            </div>
            <!-- 金額 -->
            <div class="col-3 align-content-center">
                <input type="text" class="form-control text-center total" id="milktea_Total" placeholder="金額" disabled>
            </div>
        </div>
        <!-- juice -->
        <div class="row">
            <!-- 圖片 -->
            <div class="col-3">
                <img class="img-fluid" src="./images/juice.jpg" alt="" srcset="">
            </div>
            <!-- 價格 按鈕 -->
            <div class="col-3 align-content-center">
                <div>
                    <button type="button" class="btn btn-outline-info btn-lg" id="btn_J">果汁</button>
                </div>
                <div>
                    <input type="text" class="mt-3 text-center price" id="juice_Price" placeholder="價格" name="price"
                        value="70">
                </div>
            </div>
            <!-- 數量 -->
            <div class="col-3 align-content-center">
                <input type="text" class="form-control text-center count" id="juice_Count" placeholder="數量"
                    name="count">
            </div>
            <!-- 金額 -->
            <div class="col-3 align-content-center">
                <input type="text" class="form-control text-center total" id="juice_Total" placeholder="金額" disabled>
            </div>
        </div>
        <div class="row mt-5">
            <button type="button" id="sum" class="btn btn-info">加總</button>
            <p id="result">

            </p>
        </div>
    </div>
</body>

</html>
<script>
     function calculateTotal(key) {
        let mytotal = Number(count[key].value) * Number(price[key].value);
        total[key].value = mytotal;
    }
     function calculateSum(key) {
        let mySum = 0;
        total.forEach((value, key) => {
            mySum += Number(total[key].value);
        });
        result.innerText = mySum;
    }
    const btn = document.querySelectorAll(".btn-outline-info");
    const price = document.querySelectorAll(".price");
    const total = document.querySelectorAll(".total");
    const count = document.querySelectorAll(".count");
    const sum = document.getElementById("sum");
    const result = document.getElementById("result");
    // console.log(btn);

   
    btn.forEach((value, key) => {
        value.addEventListener('click', function () {
            // console.log(this);
            let mycount = Number(count[key].value);
            mycount++; // 每次點擊時增加 mycount 的值
            count[key].value = mycount; // 將 mycount 的值設置為 count 的 value
            calculateTotal(key);
            calculateSum(); // 更新總和
        });
    });
    // 當價格或數量改變時更新總計值
    count.forEach((value, key) => {
        value.addEventListener('change', function () {
            calculateTotal(key);
            calculateSum(); // 更新總和
        });
    });

    price.forEach((value, key) => {
        value.addEventListener('change', function () {
            calculateTotal(key);
            calculateSum(); // 更新總和
        });
    });



    // total.forEach((value, key) => {
    //     value.addEventListener('change', function () {
    //         let mytotal = Number(count[key].value) * Number(price[key].value);
    //         total[key].value = mytotal;
    //     });
    // });

     // btn.forEach((value) => {
    //     value.addEventListener('click', function () {
    //         console.log(this);
    //         let mycount = Number(count.value);
    //         mycount ++; // 每次點擊時增加 i 的值
    //         count.value = mycount; // 將 i 的值設置為 p 的 innerText
    //     })
    // })
</script>