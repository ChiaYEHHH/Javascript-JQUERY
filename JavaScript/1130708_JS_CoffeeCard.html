<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/fontawesome.min.css"
        integrity="sha384-BY+fdrpOd3gfeRvTSMT+VUZmA728cfF9Z2G42xpaRkUGu2i3DyzpTURDo5A6CaLK" crossorigin="anonymous">
</head>

<body>
    <div class="container mt-5 text-center">
        <div class="row" id="items">
            <div class="col-sm-12 col-md-6 col-lg-3 mt-2 mb-3">
                <div class="card">
                    <img class="img-fluid" src="./images/coffee.jpg" class="card-img-top" alt="...">
                    <div class="card-body">
                        <btn class="btn btn-sm btn-primary m-2 btn-cart">Add</btn>
                        <h5 class="myTitle">Coffee</h5>

                        <div class="input-group m-1">
                            <span class="input-group-text">數量</span>
                            <input type="text" class="form-control myCount text-center" min="0">
                        </div>
                        <div class="input-group m-1">
                            <span class="input-group-text">單價</span>
                            <input type="text" class="form-control myPrice text-center" value="50" disabled>
                        </div>
                        <div class="input-group m-1">
                            <span class="input-group-text">金額</span>
                            <input type="text" class="form-control myTotal text-center" disabled>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="input-group mt-5">
                <span class="input-group-text">總金額</span>
                <input type="text" class="form-control mySum text-center" disabled>
            </div>

        </div>
    </div>

</body>

</html>
<script>

    let data = [
        {
            img: './images/coffee.jpg',
            myTitle: "Coffee",
            myPrice: '100',
        },
        {
            img: './images/juice.jpg',
            myTitle: "Juice",
            myPrice: '80'
        },
        {
            img: './images/milktea.jpg',
            myTitle: "Milk Tea",
            myPrice: '95',
        },
        {
            img: './images/lemon.jpg',
            myTitle: "Lemon Tea",
            myPrice: '700',
        },
    ];


    function calculateTotal(key) {
        let mytotal = Number(count[key].value) * Number(price[key].value);
        total[key].value = mytotal;
    }
    function calculateSum(key) {
        let mySum = 0;
        total.forEach((value, key) => {
            mySum += Number(total[key].value);
        });
        sum.value = 123;
    }
    const btn = document.querySelectorAll(".btn-cart");
    const price = document.querySelectorAll(".myPrice");
    const total = document.querySelectorAll(".myTotal");
    const count = document.querySelectorAll(".myCount");
    const sum = document.getElementById("mySum");
    const result = document.getElementById("result");
    const items = document.getElementById("items");
    // console.log(btn);

    btn.forEach((value, key) => {
        value.addEventListener('click', function () {
            // console.log(this);
            let mycount = Number(count[key].value);
            mycount++; // 每次點擊時增加 mycount 的值
            count[key].value = mycount; // 將 mycount 的值設置為 count 的 value
            calculateTotal(key);
            calculateSum(); // 更新總和
        });
    });
    // 當價格或數量改變時更新總計值
    count.forEach((value, key) => {
        input.addEventListener('change', function () {
            calculateTotal(key);
            calculateSum();
        });
    });

    price.forEach((value, key) => {
        input.addEventListener('change', function () {
            calculateTotal(key);
            calculateSum();
        });
    });


</script>